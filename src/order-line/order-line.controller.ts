
import { OrderLine } from "./order-line.entity";
import { Crud, CrudController, Feature } from "@nestjsx/crud";
import { Controller, Param, Delete } from "@nestjs/common";
import { OrderLineService } from "./order-line.service";
/**
 * This file was generated by Four Ways Technology
 * 
 * On Mon Aug 10 2020 15:49:18 GMT+0100 (British Summer Time)
 */
@Crud({
    model: {
      type: OrderLine
    },
    query: {
      join: {
        order : {
          eager: true
        },
        quoteLine: {
          eager: true,
        },
        'quoteLine.product': {
          eager: true,
        },
      }
    }
  })
  @Feature('order-line')
  @Controller('order-line')
  export class OrderLineController implements CrudController<OrderLine> {
    constructor(public service: OrderLineService) {}

    @Delete('deleteAllByOrderId/:orderId')
    deleteAllByOrderId(@Param() params) {

      if(!params['orderId']) {
        throw new Error('You must supply an id for deleteAllByOrderId');
      }

      this.service.deleteAllForOrderId(params['orderId']);
      return [];
    }

    @Delete('deleteOrderLine/:id')
    deleteOrderLine(@Param() params) {

      if(!params['id']) {
        throw new Error('You must supply an id for deleteOrderLine');
      }

      this.service.deleteOrderLineById(params['id']);
      return [];
    }

    
  }
