
import { MaterialUpliftTicket } from "./material-uplift-ticket.entity";
import { Crud, CrudController } from "@nestjsx/crud";
import { Controller, Get, Query } from "@nestjs/common";
import { MaterialUpliftTicketService } from "./material-uplift-ticket.service";
/**
 * This file was generated by Four Ways Technology
 *
 * On Mon Aug 30 2021 14:55:22 GMT+0100 (British Summer Time)
 */
@Crud({
    model: {
      type: MaterialUpliftTicket
    },
    query: {
      join: {
        "account": {
          eager: false,
        },
        "job": {
        eager: false,
        },
        "unit": {
          eager: false,
        }
      }
    }
  })
  @Controller('material-uplift-ticket')
  export class MaterialUpliftTicketController implements CrudController<MaterialUpliftTicket> {
    constructor(public service: MaterialUpliftTicketService) {}
    
      @Get('grid')
      async getMaterialUpliftGrid(@Query('page') page: number = 1, @Query('limit') limit: number = 10, @Query('filters') filters: string='') {
        
        let filtersJson = {};
  
        if(!filters || filters === '') {
          filtersJson = {};
        } else {
          filtersJson = JSON.parse(filters);
        }
        
        return this.service.getGrid(+page, +limit, filtersJson);
      }
    
  }
